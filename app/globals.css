@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
}

body {
  @apply bg-midnight text-snow antialiased;
  font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
}

main {
  position: relative;
  overflow: hidden;
}

.link-highlight {
  @apply text-white/90 underline-offset-4 transition hover:text-white;
}

.chip {
  @apply rounded-full border border-white/15 bg-white/5 px-3 py-1 text-sm text-white/80 transition hover:border-white/40 hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/70;
}

.cta {
  @apply inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-ember via-orange-500 to-amber-400 px-5 py-3 text-sm font-semibold text-white shadow-glow transition hover:scale-[1.03] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/80;
}

.tab {
  @apply inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm text-white/80 transition hover:border-white/40 hover:bg-white/10 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/70;
}

.tab-active {
  @apply border-white/60 bg-white/15 text-white shadow-glow;
}

.panel-card {
  @apply space-y-3 rounded-2xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-white/0 p-4 text-sm shadow-frost backdrop-blur-md;
}

.tag {
  @apply rounded-full border border-white/15 px-2.5 py-1 text-xs text-white/70;
}

.bell {
  position: absolute;
  top: -18px;
  right: -12px;
  font-size: 26px;
  filter: drop-shadow(0 0 8px rgba(255, 204, 122, 0.6));
}

[data-snow='true'] {
  position: relative;
  overflow: visible;
  transition: transform 0.3s ease;
}

[data-snow='true']::before {
  content: '';
  position: absolute;
  top: -18px;
  left: 0;
  right: 0;
  height: 18px;
  border-radius: 999px 999px 14px 14px;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.98),
    rgba(255, 255, 255, 0.55)
  );
  background-image: linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.98),
      rgba(255, 255, 255, 0.1)
    ),
    radial-gradient(circle at 20% 40%, rgba(255, 255, 255, 0.9), transparent 50%),
    radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.8), transparent 55%);
  box-shadow:
    0 8px 18px rgba(190, 210, 255, 0.35),
    inset 0 -4px 6px rgba(200, 220, 255, 0.35);
  opacity: 0;
  transform: scaleX(0.4);
  transform-origin: left center;
  animation: snow-drift 18s ease-in-out infinite;
  pointer-events: none;
}

[data-snow='true'].is-melting::before {
  animation: none;
  opacity: 0.6;
  transform: scaleX(0.7) translateY(6px);
}

[data-snow='true'].is-wet::before {
  animation: none;
  opacity: 0.2;
  transform: scaleX(0.6) translateY(8px);
}

[data-snow='true'].is-wet::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(
      circle at 30% 80%,
      rgba(120, 180, 255, 0.35),
      transparent 40%
    ),
    radial-gradient(circle at 70% 70%, rgba(120, 180, 255, 0.35), transparent 45%);
  opacity: 0.6;
  pointer-events: none;
}

@keyframes snow-drift {
  0% {
    opacity: 0;
    transform: scaleX(0.3);
  }
  40% {
    opacity: 0.7;
    transform: scaleX(0.7);
  }
  70% {
    opacity: 1;
    transform: scaleX(1);
  }
  100% {
    opacity: 0.2;
    transform: scaleX(0.5);
  }
}

@media (max-width: 768px) {
  .cta {
    width: 100%;
    justify-content: center;
  }

  [data-snow='true']::before {
    animation-duration: 14s;
  }
}
